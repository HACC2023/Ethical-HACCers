"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.convertToOutgoingHttpHeaders = exports.convertToHeaderEntries = void 0;
function convertToHeaderEntries(headers) {
    return Object.entries(headers).map(([name, value]) => {
        let resultValue = '';
        if (value)
            resultValue = Array.isArray(value) ? value.toString() : value;
        return { name, value: resultValue };
    });
}
exports.convertToHeaderEntries = convertToHeaderEntries;
function convertToOutgoingHttpHeaders(headers) {
    if (!headers)
        return {};
    return headers.reduce((result, header) => {
        result[header.name.toLowerCase()] = header.value;
        return result;
    }, {});
}
exports.convertToOutgoingHttpHeaders = convertToOutgoingHttpHeaders;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaGVhZGVycy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9uYXRpdmUtYXV0b21hdGlvbi91dGlscy9oZWFkZXJzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUtBLFNBQWdCLHNCQUFzQixDQUFFLE9BQTRCO0lBQ2hFLE9BQU8sTUFBTSxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLElBQUksRUFBRSxLQUFLLENBQUMsRUFBRSxFQUFFO1FBQ2pELElBQUksV0FBVyxHQUFHLEVBQUUsQ0FBQztRQUVyQixJQUFJLEtBQUs7WUFDTCxXQUFXLEdBQUcsS0FBSyxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLFFBQVEsRUFBRSxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUM7UUFFbEUsT0FBTyxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsV0FBVyxFQUFFLENBQUM7SUFDeEMsQ0FBQyxDQUFDLENBQUM7QUFDUCxDQUFDO0FBVEQsd0RBU0M7QUFFRCxTQUFnQiw0QkFBNEIsQ0FBRSxPQUFrQztJQUM1RSxJQUFJLENBQUMsT0FBTztRQUNSLE9BQU8sRUFBRSxDQUFDO0lBRWQsT0FBTyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUMsTUFBVyxFQUFFLE1BQU0sRUFBRSxFQUFFO1FBQzFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDLEdBQUcsTUFBTSxDQUFDLEtBQUssQ0FBQztRQUVqRCxPQUFPLE1BQU0sQ0FBQztJQUNsQixDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUM7QUFDWCxDQUFDO0FBVEQsb0VBU0MiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUHJvdG9jb2wgZnJvbSAnZGV2dG9vbHMtcHJvdG9jb2wnO1xuaW1wb3J0IEhlYWRlckVudHJ5ID0gUHJvdG9jb2wuRmV0Y2guSGVhZGVyRW50cnk7XG5pbXBvcnQgeyBJbmNvbWluZ0h0dHBIZWFkZXJzLCBPdXRnb2luZ0h0dHBIZWFkZXJzIH0gZnJvbSAnaHR0cCc7XG5cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbnZlcnRUb0hlYWRlckVudHJpZXMgKGhlYWRlcnM6IEluY29taW5nSHR0cEhlYWRlcnMpOiBIZWFkZXJFbnRyeVtdIHtcbiAgICByZXR1cm4gT2JqZWN0LmVudHJpZXMoaGVhZGVycykubWFwKChbbmFtZSwgdmFsdWVdKSA9PiB7XG4gICAgICAgIGxldCByZXN1bHRWYWx1ZSA9ICcnO1xuXG4gICAgICAgIGlmICh2YWx1ZSlcbiAgICAgICAgICAgIHJlc3VsdFZhbHVlID0gQXJyYXkuaXNBcnJheSh2YWx1ZSkgPyB2YWx1ZS50b1N0cmluZygpIDogdmFsdWU7XG5cbiAgICAgICAgcmV0dXJuIHsgbmFtZSwgdmFsdWU6IHJlc3VsdFZhbHVlIH07XG4gICAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb252ZXJ0VG9PdXRnb2luZ0h0dHBIZWFkZXJzIChoZWFkZXJzOiBIZWFkZXJFbnRyeVtdIHwgdW5kZWZpbmVkKTogT3V0Z29pbmdIdHRwSGVhZGVycyB7XG4gICAgaWYgKCFoZWFkZXJzKVxuICAgICAgICByZXR1cm4ge307XG5cbiAgICByZXR1cm4gaGVhZGVycy5yZWR1Y2UoKHJlc3VsdDogYW55LCBoZWFkZXIpID0+IHtcbiAgICAgICAgcmVzdWx0W2hlYWRlci5uYW1lLnRvTG93ZXJDYXNlKCldID0gaGVhZGVyLnZhbHVlO1xuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSwge30pO1xufVxuXG4iXX0=