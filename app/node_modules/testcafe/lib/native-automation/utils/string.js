"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.stringifyHeaderValues = exports.fromBase64String = exports.toBase64String = exports.getResponseAsBuffer = exports.getResponseAsString = void 0;
function getResponseAsString(response) {
    return response.base64Encoded
        ? Buffer.from(response.body, 'base64').toString()
        : response.body;
}
exports.getResponseAsString = getResponseAsString;
function getResponseAsBuffer(response) {
    return response.base64Encoded
        ? Buffer.from(response.body, 'base64')
        : Buffer.from(response.body);
}
exports.getResponseAsBuffer = getResponseAsBuffer;
function toBase64String(str) {
    return Buffer.from(str).toString('base64');
}
exports.toBase64String = toBase64String;
function fromBase64String(str) {
    return Buffer.from(str, 'base64');
}
exports.fromBase64String = fromBase64String;
function stringifyHeaderValues(headers) {
    return headers.map(({ name, value }) => {
        if (typeof value !== 'string')
            value = value.toString ? value.toString() : String(value);
        return { name, value };
    });
}
exports.stringifyHeaderValues = stringifyHeaderValues;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3RyaW5nLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL25hdGl2ZS1hdXRvbWF0aW9uL3V0aWxzL3N0cmluZy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFJQSxTQUFnQixtQkFBbUIsQ0FBRSxRQUFpQztJQUNsRSxPQUFPLFFBQVEsQ0FBQyxhQUFhO1FBQ3pCLENBQUMsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLEVBQUUsUUFBUSxDQUFDLENBQUMsUUFBUSxFQUFFO1FBQ2pELENBQUMsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDO0FBQ3hCLENBQUM7QUFKRCxrREFJQztBQUVELFNBQWdCLG1CQUFtQixDQUFFLFFBQWlDO0lBQ2xFLE9BQU8sUUFBUSxDQUFDLGFBQWE7UUFDekIsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksRUFBRSxRQUFRLENBQUM7UUFDdEMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDO0FBQ3JDLENBQUM7QUFKRCxrREFJQztBQUVELFNBQWdCLGNBQWMsQ0FBRSxHQUFXO0lBQ3ZDLE9BQU8sTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLENBQUM7QUFDL0MsQ0FBQztBQUZELHdDQUVDO0FBRUQsU0FBZ0IsZ0JBQWdCLENBQUUsR0FBVztJQUN6QyxPQUFPLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFFLFFBQVEsQ0FBQyxDQUFDO0FBQ3RDLENBQUM7QUFGRCw0Q0FFQztBQUVELFNBQWdCLHFCQUFxQixDQUFFLE9BQThCO0lBQ2pFLE9BQU8sT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsSUFBSSxFQUFFLEtBQUssRUFBRSxFQUFFLEVBQUU7UUFDbkMsSUFBSSxPQUFPLEtBQUssS0FBSyxRQUFRO1lBQ3pCLEtBQUssR0FBRyxLQUFLLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsUUFBUSxFQUFFLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUU5RCxPQUFPLEVBQUUsSUFBSSxFQUFFLEtBQUssRUFBRSxDQUFDO0lBQzNCLENBQUMsQ0FBQyxDQUFDO0FBQ1AsQ0FBQztBQVBELHNEQU9DIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFByb3RvY29sIGZyb20gJ2RldnRvb2xzLXByb3RvY29sJztcbmltcG9ydCBHZXRSZXNwb25zZUJvZHlSZXNwb25zZSA9IFByb3RvY29sLk5ldHdvcmsuR2V0UmVzcG9uc2VCb2R5UmVzcG9uc2U7XG5pbXBvcnQgSGVhZGVyRW50cnkgPSBQcm90b2NvbC5GZXRjaC5IZWFkZXJFbnRyeTtcblxuZXhwb3J0IGZ1bmN0aW9uIGdldFJlc3BvbnNlQXNTdHJpbmcgKHJlc3BvbnNlOiBHZXRSZXNwb25zZUJvZHlSZXNwb25zZSk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHJlc3BvbnNlLmJhc2U2NEVuY29kZWRcbiAgICAgICAgPyBCdWZmZXIuZnJvbShyZXNwb25zZS5ib2R5LCAnYmFzZTY0JykudG9TdHJpbmcoKVxuICAgICAgICA6IHJlc3BvbnNlLmJvZHk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRSZXNwb25zZUFzQnVmZmVyIChyZXNwb25zZTogR2V0UmVzcG9uc2VCb2R5UmVzcG9uc2UpOiBCdWZmZXIge1xuICAgIHJldHVybiByZXNwb25zZS5iYXNlNjRFbmNvZGVkXG4gICAgICAgID8gQnVmZmVyLmZyb20ocmVzcG9uc2UuYm9keSwgJ2Jhc2U2NCcpXG4gICAgICAgIDogQnVmZmVyLmZyb20ocmVzcG9uc2UuYm9keSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0b0Jhc2U2NFN0cmluZyAoc3RyOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIHJldHVybiBCdWZmZXIuZnJvbShzdHIpLnRvU3RyaW5nKCdiYXNlNjQnKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21CYXNlNjRTdHJpbmcgKHN0cjogc3RyaW5nKTogQnVmZmVyIHtcbiAgICByZXR1cm4gQnVmZmVyLmZyb20oc3RyLCAnYmFzZTY0Jyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzdHJpbmdpZnlIZWFkZXJWYWx1ZXMgKGhlYWRlcnM6IFJlY29yZDxzdHJpbmcsIGFueT5bXSk6IEhlYWRlckVudHJ5W10ge1xuICAgIHJldHVybiBoZWFkZXJzLm1hcCgoeyBuYW1lLCB2YWx1ZSB9KSA9PiB7XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT09ICdzdHJpbmcnKVxuICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZS50b1N0cmluZyA/IHZhbHVlLnRvU3RyaW5nKCkgOiBTdHJpbmcodmFsdWUpO1xuXG4gICAgICAgIHJldHVybiB7IG5hbWUsIHZhbHVlIH07XG4gICAgfSk7XG59XG5cbiJdfQ==