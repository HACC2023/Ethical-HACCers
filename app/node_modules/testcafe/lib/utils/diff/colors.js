"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.setColors = exports.colorLines = exports.DIFF_COLORS = void 0;
const lodash_1 = require("lodash");
exports.DIFF_COLORS = {
    DIFF_ADDED: 'diff-added',
    DIFF_REMOVED: 'diff-removed',
    DIFF_NOT_MODIFIED: 'diff-not-modified',
};
function color(name, str) {
    return `<span class="${name}">${(0, lodash_1.escape)(str)}</span>`;
}
function colorLines(name, str) {
    return str
        .split('\n')
        .map((line) => {
        return color(name, line);
    })
        .join('\n');
}
exports.colorLines = colorLines;
function setColors(line) {
    if (line[0] === '+')
        return colorLines(exports.DIFF_COLORS.DIFF_ADDED, line);
    if (line[0] === '-')
        return colorLines(exports.DIFF_COLORS.DIFF_REMOVED, line);
    return colorLines(exports.DIFF_COLORS.DIFF_NOT_MODIFIED, line);
}
exports.setColors = setColors;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29sb3JzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL3V0aWxzL2RpZmYvY29sb3JzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUFBLG1DQUE4QztBQUVqQyxRQUFBLFdBQVcsR0FBRztJQUN2QixVQUFVLEVBQVMsWUFBWTtJQUMvQixZQUFZLEVBQU8sY0FBYztJQUNqQyxpQkFBaUIsRUFBRSxtQkFBbUI7Q0FDekMsQ0FBQztBQUVGLFNBQVMsS0FBSyxDQUFFLElBQVksRUFBRSxHQUFXO0lBQ3JDLE9BQU8sZ0JBQWdCLElBQUksS0FBSyxJQUFBLGVBQVUsRUFBQyxHQUFHLENBQUMsU0FBUyxDQUFDO0FBQzdELENBQUM7QUFFRCxTQUFnQixVQUFVLENBQUUsSUFBWSxFQUFFLEdBQVc7SUFDakQsT0FBTyxHQUFHO1NBQ0wsS0FBSyxDQUFDLElBQUksQ0FBQztTQUNYLEdBQUcsQ0FBQyxDQUFDLElBQVksRUFBVSxFQUFFO1FBQzFCLE9BQU8sS0FBSyxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQztJQUM3QixDQUFDLENBQUM7U0FDRCxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDcEIsQ0FBQztBQVBELGdDQU9DO0FBRUQsU0FBZ0IsU0FBUyxDQUFFLElBQVk7SUFDbkMsSUFBSSxJQUFJLENBQUMsQ0FBQyxDQUFDLEtBQUssR0FBRztRQUNmLE9BQU8sVUFBVSxDQUFDLG1CQUFXLENBQUMsVUFBVSxFQUFFLElBQUksQ0FBQyxDQUFDO0lBRXBELElBQUksSUFBSSxDQUFDLENBQUMsQ0FBQyxLQUFLLEdBQUc7UUFDZixPQUFPLFVBQVUsQ0FBQyxtQkFBVyxDQUFDLFlBQVksRUFBRSxJQUFJLENBQUMsQ0FBQztJQUV0RCxPQUFPLFVBQVUsQ0FBQyxtQkFBVyxDQUFDLGlCQUFpQixFQUFFLElBQUksQ0FBQyxDQUFDO0FBQzNELENBQUM7QUFSRCw4QkFRQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGVzY2FwZSBhcyBlc2NhcGVIVE1MIH0gZnJvbSAnbG9kYXNoJztcblxuZXhwb3J0IGNvbnN0IERJRkZfQ09MT1JTID0ge1xuICAgIERJRkZfQURERUQ6ICAgICAgICAnZGlmZi1hZGRlZCcsXG4gICAgRElGRl9SRU1PVkVEOiAgICAgICdkaWZmLXJlbW92ZWQnLFxuICAgIERJRkZfTk9UX01PRElGSUVEOiAnZGlmZi1ub3QtbW9kaWZpZWQnLFxufTtcblxuZnVuY3Rpb24gY29sb3IgKG5hbWU6IHN0cmluZywgc3RyOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIHJldHVybiBgPHNwYW4gY2xhc3M9XCIke25hbWV9XCI+JHtlc2NhcGVIVE1MKHN0cil9PC9zcGFuPmA7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb2xvckxpbmVzIChuYW1lOiBzdHJpbmcsIHN0cjogc3RyaW5nKTogc3RyaW5nIHtcbiAgICByZXR1cm4gc3RyXG4gICAgICAgIC5zcGxpdCgnXFxuJylcbiAgICAgICAgLm1hcCgobGluZTogc3RyaW5nKTogc3RyaW5nID0+IHtcbiAgICAgICAgICAgIHJldHVybiBjb2xvcihuYW1lLCBsaW5lKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmpvaW4oJ1xcbicpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0Q29sb3JzIChsaW5lOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIGlmIChsaW5lWzBdID09PSAnKycpXG4gICAgICAgIHJldHVybiBjb2xvckxpbmVzKERJRkZfQ09MT1JTLkRJRkZfQURERUQsIGxpbmUpO1xuXG4gICAgaWYgKGxpbmVbMF0gPT09ICctJylcbiAgICAgICAgcmV0dXJuIGNvbG9yTGluZXMoRElGRl9DT0xPUlMuRElGRl9SRU1PVkVELCBsaW5lKTtcblxuICAgIHJldHVybiBjb2xvckxpbmVzKERJRkZfQ09MT1JTLkRJRkZfTk9UX01PRElGSUVELCBsaW5lKTtcbn1cbiJdfQ==