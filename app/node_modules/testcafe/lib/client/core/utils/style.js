"use strict";
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || function (mod) {
    if (mod && mod.__esModule) return mod;
    var result = {};
    if (mod != null) for (var k in mod) if (k !== "default" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);
    __setModuleDefault(result, mod);
    return result;
};
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.isFixedElement = exports.hasDimensions = exports.isNotVisibleNode = exports.isNotDisplayedNode = exports.isHiddenNode = exports.getWindowDimensions = exports.getViewportDimensions = exports.set = exports.getElementPaddingFloat = exports.getBordersWidthFloat = exports.get = exports.setScrollTop = exports.setScrollLeft = exports.getScrollTop = exports.getScrollLeft = exports.getInnerHeight = exports.getInnerWidth = exports.getHeight = exports.getWidth = exports.isSelectVisibleChild = exports.isElementVisible = exports.getSelectElementSize = exports.getOptionHeight = exports.getElementScroll = exports.getElementPadding = exports.getElementMargin = exports.getComputedStyle = exports.getBordersWidth = void 0;
const hammerhead_1 = __importDefault(require("../deps/hammerhead"));
const boundary_values_1 = __importDefault(require("./values/boundary-values"));
const domUtils = __importStar(require("./dom"));
const styleUtils = hammerhead_1.default.utils.style;
exports.getBordersWidth = hammerhead_1.default.utils.style.getBordersWidth;
exports.getComputedStyle = hammerhead_1.default.utils.style.getComputedStyle;
exports.getElementMargin = hammerhead_1.default.utils.style.getElementMargin;
exports.getElementPadding = hammerhead_1.default.utils.style.getElementPadding;
exports.getElementScroll = hammerhead_1.default.utils.style.getElementScroll;
exports.getOptionHeight = hammerhead_1.default.utils.style.getOptionHeight;
exports.getSelectElementSize = hammerhead_1.default.utils.style.getSelectElementSize;
exports.isElementVisible = hammerhead_1.default.utils.style.isElementVisible;
exports.isSelectVisibleChild = hammerhead_1.default.utils.style.isVisibleChild;
exports.getWidth = hammerhead_1.default.utils.style.getWidth;
exports.getHeight = hammerhead_1.default.utils.style.getHeight;
exports.getInnerWidth = hammerhead_1.default.utils.style.getInnerWidth;
exports.getInnerHeight = hammerhead_1.default.utils.style.getInnerHeight;
exports.getScrollLeft = hammerhead_1.default.utils.style.getScrollLeft;
exports.getScrollTop = hammerhead_1.default.utils.style.getScrollTop;
exports.setScrollLeft = hammerhead_1.default.utils.style.setScrollLeft;
exports.setScrollTop = hammerhead_1.default.utils.style.setScrollTop;
exports.get = hammerhead_1.default.utils.style.get;
exports.getBordersWidthFloat = hammerhead_1.default.utils.style.getBordersWidthFloat;
exports.getElementPaddingFloat = hammerhead_1.default.utils.style.getElementPaddingFloat;
function set(el, style, value) {
    if (typeof style === 'string')
        styleUtils.set(el, style, value);
    for (const property in style) {
        if (style.hasOwnProperty(property))
            styleUtils.set(el, property, style[property]);
    }
}
exports.set = set;
function getViewportDimension(windowDimension, documentDimension, bodyDimension) {
    if (documentDimension > windowDimension)
        return bodyDimension;
    if (bodyDimension > windowDimension)
        return documentDimension;
    return Math.max(bodyDimension, documentDimension);
}
function getViewportDimensions() {
    return {
        width: getViewportDimension(window.innerWidth, document.documentElement.clientWidth, document.body.clientWidth),
        height: getViewportDimension(window.innerHeight, document.documentElement.clientHeight, document.body.clientHeight),
    };
}
exports.getViewportDimensions = getViewportDimensions;
function getWindowDimensions(window) {
    return new boundary_values_1.default(0, (0, exports.getWidth)(window), (0, exports.getHeight)(window), 0);
}
exports.getWindowDimensions = getWindowDimensions;
function isHiddenNode(node) {
    return !!domUtils.findParent(node, true, ancestor => domUtils.isElementNode(ancestor) && styleUtils.get(ancestor, 'visibility') === 'hidden');
}
exports.isHiddenNode = isHiddenNode;
function isNotDisplayedNode(node) {
    return !!domUtils.findParent(node, true, ancestor => domUtils.isElementNode(ancestor) && styleUtils.get(ancestor, 'display') === 'none');
}
exports.isNotDisplayedNode = isNotDisplayedNode;
function isNotVisibleNode(node) {
    return !domUtils.isRenderedNode(node) || isNotDisplayedNode(node) || isHiddenNode(node);
}
exports.isNotVisibleNode = isNotVisibleNode;
function hasDimensions(el) {
    //NOTE: it's like jquery ':visible' selector (http://blog.jquery.com/2009/02/20/jquery-1-3-2-released/)
    return el && !(el.offsetHeight <= 0 && el.offsetWidth <= 0);
}
exports.hasDimensions = hasDimensions;
function isFixedElement(node) {
    return domUtils.isElementNode(node) && styleUtils.get(node, 'position') === 'fixed';
}
exports.isFixedElement = isFixedElement;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3R5bGUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvY2xpZW50L2NvcmUvdXRpbHMvc3R5bGUuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxvRUFBNEM7QUFDNUMsK0VBQXNEO0FBQ3RELGdEQUFrQztBQUVsQyxNQUFNLFVBQVUsR0FBRyxvQkFBVSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUM7QUFFN0IsUUFBQSxlQUFlLEdBQVUsb0JBQVUsQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLGVBQWUsQ0FBQztBQUNoRSxRQUFBLGdCQUFnQixHQUFTLG9CQUFVLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxnQkFBZ0IsQ0FBQztBQUNqRSxRQUFBLGdCQUFnQixHQUFTLG9CQUFVLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxnQkFBZ0IsQ0FBQztBQUNqRSxRQUFBLGlCQUFpQixHQUFRLG9CQUFVLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxpQkFBaUIsQ0FBQztBQUNsRSxRQUFBLGdCQUFnQixHQUFTLG9CQUFVLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxnQkFBZ0IsQ0FBQztBQUNqRSxRQUFBLGVBQWUsR0FBVSxvQkFBVSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsZUFBZSxDQUFDO0FBQ2hFLFFBQUEsb0JBQW9CLEdBQUssb0JBQVUsQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLG9CQUFvQixDQUFDO0FBQ3JFLFFBQUEsZ0JBQWdCLEdBQVMsb0JBQVUsQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLGdCQUFnQixDQUFDO0FBQ2pFLFFBQUEsb0JBQW9CLEdBQUssb0JBQVUsQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLGNBQWMsQ0FBQztBQUMvRCxRQUFBLFFBQVEsR0FBaUIsb0JBQVUsQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQztBQUN6RCxR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O0FBQ2pHLENBQUM7QUFIRCxvQ0FHQztBQUVELFNBQWdCLGtCQUFrQixDQUFFLElBQUk7SUFDcEMsT0FBTyxDQUFDLENBQUMsUUFBUSxDQUFDLFVBQVUsQ0FBQyxJQUFJLEVBQUUsSUFBSSxFQUFFLFFBQVEsQ0FBQyxFQUFFLENBQ2hELFFBQVEsQ0FBQyxhQUFhLENBQUMsUUFBUSxDQUFDLElBQUksVUFBVSxDQUFDLEdBQUcsQ0FBQyxRQUFRLEVBQUUsU0FBUyxDQUFDLEtBQUssTUFBTSxDQUFDLENBQUM7QUFDNUYsQ0FBQztBQUhELGdEQUdDO0FBRUQsU0FBZ0IsZ0JBQWdCLENBQUUsSUFBSTtJQUNsQyxPQUFPLENBQUMsUUFBUSxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsSUFBSSxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsSUFBSSxZQUFZLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDNUYsQ0FBQztBQUZELDRDQUVDO0FBRUQsU0FBZ0IsYUFBYSxDQUFFLEVBQUU7SUFDN0IsdUdBQXVHO0lBQ3ZHLE9BQU8sRUFBRSxJQUFJLENBQUMsQ0FBQyxFQUFFLENBQUMsWUFBWSxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsV0FBVyxJQUFJLENBQUMsQ0FBQyxDQUFDO0FBQ2hFLENBQUM7QUFIRCxzQ0FHQztBQUVELFNBQWdCLGNBQWMsQ0FBRSxJQUFJO0lBQ2hDLE9BQU8sUUFBUSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsSUFBSSxVQUFVLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxVQUFVLENBQUMsS0FBSyxPQUFPLENBQUM7QUFDeEYsQ0FBQztBQUZELHdDQUVDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGhhbW1lcmhlYWQgZnJvbSAnLi4vZGVwcy9oYW1tZXJoZWFkJztcbmltcG9ydCBCb3VuZGFyeVZhbHVlcyBmcm9tICcuL3ZhbHVlcy9ib3VuZGFyeS12YWx1ZXMnO1xuaW1wb3J0ICogYXMgZG9tVXRpbHMgZnJvbSAnLi9kb20nO1xuXG5jb25zdCBzdHlsZVV0aWxzID0gaGFtbWVyaGVhZC51dGlscy5zdHlsZTtcblxuZXhwb3J0IGNvbnN0IGdldEJvcmRlcnNXaWR0aCAgICAgICAgPSBoYW1tZXJoZWFkLnV0aWxzLnN0eWxlLmdldEJvcmRlcnNXaWR0aDtcbmV4cG9ydCBjb25zdCBnZXRDb21wdXRlZFN0eWxlICAgICAgID0gaGFtbWVyaGVhZC51dGlscy5zdHlsZS5nZXRDb21wdXRlZFN0eWxlO1xuZXhwb3J0IGNvbnN0IGdldEVsZW1lbnRNYXJnaW4gICAgICAgPSBoYW1tZXJoZWFkLnV0aWxzLnN0eWxlLmdldEVsZW1lbnRNYXJnaW47XG5leHBvcnQgY29uc3QgZ2V0RWxlbWVudFBhZGRpbmcgICAgICA9IGhhbW1lcmhlYWQudXRpbHMuc3R5bGUuZ2V0RWxlbWVudFBhZGRpbmc7XG5leHBvcnQgY29uc3QgZ2V0RWxlbWVudFNjcm9sbCAgICAgICA9IGhhbW1lcmhlYWQudXRpbHMuc3R5bGUuZ2V0RWxlbWVudFNjcm9sbDtcbmV4cG9ydCBjb25zdCBnZXRPcHRpb25IZWlnaHQgICAgICAgID0gaGFtbWVyaGVhZC51dGlscy5zdHlsZS5nZXRPcHRpb25IZWlnaHQ7XG5leHBvcnQgY29uc3QgZ2V0U2VsZWN0RWxlbWVudFNpemUgICA9IGhhbW1lcmhlYWQudXRpbHMuc3R5bGUuZ2V0U2VsZWN0RWxlbWVudFNpemU7XG5leHBvcnQgY29uc3QgaXNFbGVtZW50VmlzaWJsZSAgICAgICA9IGhhbW1lcmhlYWQudXRpbHMuc3R5bGUuaXNFbGVtZW50VmlzaWJsZTtcbmV4cG9ydCBjb25zdCBpc1NlbGVjdFZpc2libGVDaGlsZCAgID0gaGFtbWVyaGVhZC51dGlscy5zdHlsZS5pc1Zpc2libGVDaGlsZDtcbmV4cG9ydCBjb25zdCBnZXRXaWR0aCAgICAgICAgICAgICAgID0gaGFtbWVyaGVhZC51dGlscy5zdHlsZS5nZXRXaWR0aDtcbmV4cG9ydCBjb25zdCBnZXRIZWlnaHQgICAgICAgICAgICAgID0gaGFtbWVyaGVhZC51dGlscy5zdHlsZS5nZXRIZWlnaHQ7XG5leHBvcnQgY29uc3QgZ2V0SW5uZXJXaWR0aCAgICAgICAgICA9IGhhbW1lcmhlYWQudXRpbHMuc3R5bGUuZ2V0SW5uZXJXaWR0aDtcbmV4cG9ydCBjb25zdCBnZXRJbm5lckhlaWdodCAgICAgICAgID0gaGFtbWVyaGVhZC51dGlscy5zdHlsZS5nZXRJbm5lckhlaWdodDtcbmV4cG9ydCBjb25zdCBnZXRTY3JvbGxMZWZ0ICAgICAgICAgID0gaGFtbWVyaGVhZC51dGlscy5zdHlsZS5nZXRTY3JvbGxMZWZ0O1xuZXhwb3J0IGNvbnN0IGdldFNjcm9sbFRvcCAgICAgICAgICAgPSBoYW1tZXJoZWFkLnV0aWxzLnN0eWxlLmdldFNjcm9sbFRvcDtcbmV4cG9ydCBjb25zdCBzZXRTY3JvbGxMZWZ0ICAgICAgICAgID0gaGFtbWVyaGVhZC51dGlscy5zdHlsZS5zZXRTY3JvbGxMZWZ0O1xuZXhwb3J0IGNvbnN0IHNldFNjcm9sbFRvcCAgICAgICAgICAgPSBoYW1tZXJoZWFkLnV0aWxzLnN0eWxlLnNldFNjcm9sbFRvcDtcbmV4cG9ydCBjb25zdCBnZXQgICAgICAgICAgICAgICAgICAgID0gaGFtbWVyaGVhZC51dGlscy5zdHlsZS5nZXQ7XG5leHBvcnQgY29uc3QgZ2V0Qm9yZGVyc1dpZHRoRmxvYXQgICA9IGhhbW1lcmhlYWQudXRpbHMuc3R5bGUuZ2V0Qm9yZGVyc1dpZHRoRmxvYXQ7XG5leHBvcnQgY29uc3QgZ2V0RWxlbWVudFBhZGRpbmdGbG9hdCA9IGhhbW1lcmhlYWQudXRpbHMuc3R5bGUuZ2V0RWxlbWVudFBhZGRpbmdGbG9hdDtcblxuXG5leHBvcnQgZnVuY3Rpb24gc2V0IChlbCwgc3R5bGUsIHZhbHVlKSB7XG4gICAgaWYgKHR5cGVvZiBzdHlsZSA9PT0gJ3N0cmluZycpXG4gICAgICAgIHN0eWxlVXRpbHMuc2V0KGVsLCBzdHlsZSwgdmFsdWUpO1xuXG4gICAgZm9yIChjb25zdCBwcm9wZXJ0eSBpbiBzdHlsZSkge1xuICAgICAgICBpZiAoc3R5bGUuaGFzT3duUHJvcGVydHkocHJvcGVydHkpKVxuICAgICAgICAgICAgc3R5bGVVdGlscy5zZXQoZWwsIHByb3BlcnR5LCBzdHlsZVtwcm9wZXJ0eV0pO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZ2V0Vmlld3BvcnREaW1lbnNpb24gKHdpbmRvd0RpbWVuc2lvbiwgZG9jdW1lbnREaW1lbnNpb24sIGJvZHlEaW1lbnNpb24pIHtcbiAgICBpZiAoZG9jdW1lbnREaW1lbnNpb24gPiB3aW5kb3dEaW1lbnNpb24pXG4gICAgICAgIHJldHVybiBib2R5RGltZW5zaW9uO1xuXG4gICAgaWYgKGJvZHlEaW1lbnNpb24gPiB3aW5kb3dEaW1lbnNpb24pXG4gICAgICAgIHJldHVybiBkb2N1bWVudERpbWVuc2lvbjtcblxuICAgIHJldHVybiBNYXRoLm1heChib2R5RGltZW5zaW9uLCBkb2N1bWVudERpbWVuc2lvbik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRWaWV3cG9ydERpbWVuc2lvbnMgKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIHdpZHRoOiAgZ2V0Vmlld3BvcnREaW1lbnNpb24od2luZG93LmlubmVyV2lkdGgsIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCwgZG9jdW1lbnQuYm9keS5jbGllbnRXaWR0aCksXG4gICAgICAgIGhlaWdodDogZ2V0Vmlld3BvcnREaW1lbnNpb24od2luZG93LmlubmVySGVpZ2h0LCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0LCBkb2N1bWVudC5ib2R5LmNsaWVudEhlaWdodCksXG4gICAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFdpbmRvd0RpbWVuc2lvbnMgKHdpbmRvdykge1xuICAgIHJldHVybiBuZXcgQm91bmRhcnlWYWx1ZXMoMCwgZ2V0V2lkdGgod2luZG93KSwgZ2V0SGVpZ2h0KHdpbmRvdyksIDApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNIaWRkZW5Ob2RlIChub2RlKSB7XG4gICAgcmV0dXJuICEhZG9tVXRpbHMuZmluZFBhcmVudChub2RlLCB0cnVlLCBhbmNlc3RvciA9PlxuICAgICAgICBkb21VdGlscy5pc0VsZW1lbnROb2RlKGFuY2VzdG9yKSAmJiBzdHlsZVV0aWxzLmdldChhbmNlc3RvciwgJ3Zpc2liaWxpdHknKSA9PT0gJ2hpZGRlbicpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNOb3REaXNwbGF5ZWROb2RlIChub2RlKSB7XG4gICAgcmV0dXJuICEhZG9tVXRpbHMuZmluZFBhcmVudChub2RlLCB0cnVlLCBhbmNlc3RvciA9PlxuICAgICAgICBkb21VdGlscy5pc0VsZW1lbnROb2RlKGFuY2VzdG9yKSAmJiBzdHlsZVV0aWxzLmdldChhbmNlc3RvciwgJ2Rpc3BsYXknKSA9PT0gJ25vbmUnKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzTm90VmlzaWJsZU5vZGUgKG5vZGUpIHtcbiAgICByZXR1cm4gIWRvbVV0aWxzLmlzUmVuZGVyZWROb2RlKG5vZGUpIHx8IGlzTm90RGlzcGxheWVkTm9kZShub2RlKSB8fCBpc0hpZGRlbk5vZGUobm9kZSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBoYXNEaW1lbnNpb25zIChlbCkge1xuICAgIC8vTk9URTogaXQncyBsaWtlIGpxdWVyeSAnOnZpc2libGUnIHNlbGVjdG9yIChodHRwOi8vYmxvZy5qcXVlcnkuY29tLzIwMDkvMDIvMjAvanF1ZXJ5LTEtMy0yLXJlbGVhc2VkLylcbiAgICByZXR1cm4gZWwgJiYgIShlbC5vZmZzZXRIZWlnaHQgPD0gMCAmJiBlbC5vZmZzZXRXaWR0aCA8PSAwKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzRml4ZWRFbGVtZW50IChub2RlKSB7XG4gICAgcmV0dXJuIGRvbVV0aWxzLmlzRWxlbWVudE5vZGUobm9kZSkgJiYgc3R5bGVVdGlscy5nZXQobm9kZSwgJ3Bvc2l0aW9uJykgPT09ICdmaXhlZCc7XG59XG4iXX0=