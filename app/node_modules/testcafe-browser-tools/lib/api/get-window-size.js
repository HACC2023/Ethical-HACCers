"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const os_family_1 = __importDefault(require("os-family"));
const os_1 = require("os");
const exec_1 = require("../utils/exec");
const binaries_1 = __importDefault(require("../binaries"));
async function default_1(windowDescription) {
    var res = null;
    var windowParams = [];
    var getWindowSizeArgs = void 0;
    if (os_family_1.default.win)
        getWindowSizeArgs = [windowDescription.hwnd];
    else if (os_family_1.default.mac)
        getWindowSizeArgs = [windowDescription.processId, windowDescription.windowId];
    else if (os_family_1.default.linux)
        getWindowSizeArgs = [windowDescription.windowId];
    else
        return null;
    try {
        res = await (0, exec_1.execFile)(binaries_1.default.getWindowSize, getWindowSizeArgs);
    }
    catch (err) {
        return null;
    }
    windowParams = res.split(os_1.EOL);
    return { width: Number(windowParams[0]), height: Number(windowParams[1]) };
}
exports.default = default_1;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ2V0LXdpbmRvdy1zaXplLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL2FwaS9nZXQtd2luZG93LXNpemUuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSwwREFBMkI7QUFDM0IsMkJBQXlCO0FBQ3pCLHdDQUF5QztBQUN6QywyREFBbUM7QUFHcEIsS0FBSyxvQkFBVyxpQkFBaUI7SUFDNUMsSUFBSSxHQUFHLEdBQWlCLElBQUksQ0FBQztJQUM3QixJQUFJLFlBQVksR0FBUSxFQUFFLENBQUM7SUFFM0IsSUFBSSxpQkFBaUIsR0FBRyxLQUFLLENBQUMsQ0FBQztJQUUvQixJQUFJLG1CQUFFLENBQUMsR0FBRztRQUNOLGlCQUFpQixHQUFHLENBQUMsaUJBQWlCLENBQUMsSUFBSSxDQUFDLENBQUM7U0FDNUMsSUFBSSxtQkFBRSxDQUFDLEdBQUc7UUFDWCxpQkFBaUIsR0FBRyxDQUFDLGlCQUFpQixDQUFDLFNBQVMsRUFBRSxpQkFBaUIsQ0FBQyxRQUFRLENBQUMsQ0FBQztTQUM3RSxJQUFJLG1CQUFFLENBQUMsS0FBSztRQUNiLGlCQUFpQixHQUFHLENBQUMsaUJBQWlCLENBQUMsUUFBUSxDQUFDLENBQUM7O1FBRWpELE9BQU8sSUFBSSxDQUFDO0lBRWhCLElBQUk7UUFDQSxHQUFHLEdBQUcsTUFBTSxJQUFBLGVBQVEsRUFBQyxrQkFBUSxDQUFDLGFBQWEsRUFBRSxpQkFBaUIsQ0FBQyxDQUFDO0tBQ25FO0lBQ0QsT0FBTyxHQUFHLEVBQUU7UUFDUixPQUFPLElBQUksQ0FBQztLQUNmO0lBRUQsWUFBWSxHQUFHLEdBQUcsQ0FBQyxLQUFLLENBQUMsUUFBRyxDQUFDLENBQUM7SUFFOUIsT0FBTyxFQUFFLEtBQUssRUFBRSxNQUFNLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsTUFBTSxFQUFFLE1BQU0sQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDO0FBQy9FLENBQUM7QUF6QkQsNEJBeUJDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IE9TIGZyb20gJ29zLWZhbWlseSc7XG5pbXBvcnQgeyBFT0wgfSBmcm9tICdvcyc7XG5pbXBvcnQgeyBleGVjRmlsZSB9IGZyb20gJy4uL3V0aWxzL2V4ZWMnO1xuaW1wb3J0IEJJTkFSSUVTIGZyb20gJy4uL2JpbmFyaWVzJztcblxuXG5leHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiAod2luZG93RGVzY3JpcHRpb24pIHtcbiAgICB2YXIgcmVzICAgICAgICAgICAgICAgPSBudWxsO1xuICAgIHZhciB3aW5kb3dQYXJhbXMgICAgICA9IFtdO1xuXG4gICAgdmFyIGdldFdpbmRvd1NpemVBcmdzID0gdm9pZCAwO1xuXG4gICAgaWYgKE9TLndpbilcbiAgICAgICAgZ2V0V2luZG93U2l6ZUFyZ3MgPSBbd2luZG93RGVzY3JpcHRpb24uaHduZF07XG4gICAgZWxzZSBpZiAoT1MubWFjKVxuICAgICAgICBnZXRXaW5kb3dTaXplQXJncyA9IFt3aW5kb3dEZXNjcmlwdGlvbi5wcm9jZXNzSWQsIHdpbmRvd0Rlc2NyaXB0aW9uLndpbmRvd0lkXTtcbiAgICBlbHNlIGlmIChPUy5saW51eClcbiAgICAgICAgZ2V0V2luZG93U2l6ZUFyZ3MgPSBbd2luZG93RGVzY3JpcHRpb24ud2luZG93SWRdO1xuICAgIGVsc2VcbiAgICAgICAgcmV0dXJuIG51bGw7XG5cbiAgICB0cnkge1xuICAgICAgICByZXMgPSBhd2FpdCBleGVjRmlsZShCSU5BUklFUy5nZXRXaW5kb3dTaXplLCBnZXRXaW5kb3dTaXplQXJncyk7XG4gICAgfVxuICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgd2luZG93UGFyYW1zID0gcmVzLnNwbGl0KEVPTCk7XG5cbiAgICByZXR1cm4geyB3aWR0aDogTnVtYmVyKHdpbmRvd1BhcmFtc1swXSksIGhlaWdodDogTnVtYmVyKHdpbmRvd1BhcmFtc1sxXSkgfTtcbn1cbiJdfQ==